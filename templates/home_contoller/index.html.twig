{% extends 'base.html.twig' %}

{% block title %}Hello HomeContollerController!{% endblock %}
 {% block stylesheets %}
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
        <link rel="stylesheet" href="{{ asset('css/style_table_liste_producte.css') }}">
{% endblock %}
{% block body %}

<div class="container rounded mt-5 bg-white p-md-5">
    <div class="my-2 d-flex justify-content-between align-items-center ">
         <button type="button" class="btn btn-dark position-relative">
            Products
            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                {{products|length}}
                    <span class="visually-hidden">products</span>
                </span>
            </button>
            <div>
                <a href="{{path('home_contoller')}}" class="btn btn-sm btn-outline-dark mx-1">ALL</a>
                {% for categorie in categories %}
                <a href="{{ path('product_category',{ category: categorie.id})}}"
                class="btn btn-sm btn-outline-dark mx-1">{{ categorie.name }}</a>
                {% endfor %}
            </div>
        </div>
        <div class="row" >
          {% if products|length %}
              {% for product in products %}
                   <div class="col-md-4" style="margin-bottom: 15px;">
                      <div class="card" style="width:18rem;height:100%; margin-bottom:20px">
                          {% if product.image %}
                              <img class="img" src="{{ asset('uplodes/' ~ product.image) }}" alt=""
                                    style="width:17.874rem;height:50% " class=" card-img-top ">
                          {% else %}
                              <img class="img" src="" alt=""
                                 
                              class=" card-img-top ">     
                          {% endif %}
                          <div class="card-body">
                              <h5 class="card-title">{{ product.name }}</h5>
                              <p class="card-text" >{{ product.description }}</p><br/>
                              <h5></h5><span class="text text-danger">{{ product.price }}DH</span></h5><br>
                              <a href="{{path('show_product',{id: product.id})}}" class="btn btn-sm btn-primary" >View</a>
                          </div>
                      </div>
                    </div>
                {% endfor %}
            {% else %} 
            <div class="alert alert-info">
                No Product found!
            </div>
          {% endif %}
        </div>
    </div>
</div> 

{% endblock %}

